(function() {var device = {profile:{},features: {json:function(){return !!window.JSON?1:0;},width:function(){return (window.innerWidth>0)?window.innerWidth:screen.width;},height:function(){return (window.innerHeight>0)?window.innerHeight:screen.height;},clr:function(){return screen.colorDepth;},xhr:function(){try { xhr = new XMLHttpRequest(); } catch (e) {}try { xhr = new ActiveXObject("Microsoft.XMLHTTP"); } catch (e) {}try { xhr = new ActiveXObject("Msxml2.XMLHTTP"); } catch (e) {}return +(xhr!=null);},video:function(){var video = +!!document.createElement('video').canPlayType;if(video){var v = document.createElement("video");v.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')?video+='-h264':false;v.canPlayType('video/ogg; codecs="theora, vorbis"')?video+='-ogg':false;v.canPlayType('video/webm; codecs="vp8, vorbis"')?video+='-webm':false;}return video;},geo:function(){return +!!navigator.geolocation;},swf:function(){try{try{var axo = new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');try { axo.AllowScriptAccess = 'always'; }catch(e) { return '6,0,0'; }} catch(e) {}var v = new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g, ',').match(/^,?(.+),?$/)[1] ;return v.replace(/,/gi, '.');}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){var v = (navigator.plugins["Shockwave Flash 2.0"] ||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g, ",").match(/^,?(.+),?$/)[1];return v.replace(/,/gi, '.');}}catch(e){}}return '0.0.0';},font:function(){var sheet,head = document.head || document.getElementsByTagName('head')[0] || docElement,style = document.createElement("style"),impl = document.implementation || { hasFeature: function() { return false; } };style.type = 'text/css';head.insertBefore(style, head.firstChild);sheet = style.sheet || style.styleSheet;var supportAtRule = impl.hasFeature('CSS2', '') ?function(rule){if (!(sheet && rule)) return false;var result = false;try{sheet.insertRule(rule, 0);result = !(/unknown/i).test(sheet.cssRules[0].cssText);sheet.deleteRule(sheet.cssRules.length - 1);}catch(e){}return +result;} :function(rule){if (!(sheet && rule)) return false;sheet.cssText = rule;return +sheet.cssText.length !== 0 && !(/unknown/i).test(sheet.cssText)&&sheet.cssText.replace(/\r+|\n+/g, '').indexOf(rule.split(' ')[0]) === 0;};return +supportAtRule('@font-face { font-family: "font"; src: "font.ttf"; }');},svg:function(){return +!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1");},cvs:function(){var canvas = +!!document.createElement('canvas').getContext;if(canvas){var c = document.createElement( 'canvas' ).getContext('2d');typeof c.fillText=='function'?canvas+="-text":false;}return canvas;},touch:function(){try{document.createEvent("TouchEvent");return 1;}catch(e){return 0;}}},get:function(name) {var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ) == 0)return c.substring(nameEQ.length,c.length);}return null;},set:function(name,value,days) {if (days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires=";expires="+date.toGMTString();}else var expires="";document.cookie=name+"="+value+expires+";path=/";},clear:function(name){this.set(name,"",-1);},update:function(init) {delete this.profile['ua'];for (feature in this.features) {this.profile[feature] = this.features[feature]();(this.profile[feature] == 0)?delete this.profile[feature]:false;}var data = "%7B";for (feature in this.profile){ data += "%22"+feature+"%22:%22"+this.profile[feature]+"%22%2C"; }data = data.substring(0, data.length-3);data += "%7D";this.set('profile', data, 30);this.profile['ua'] = navigator.userAgent;},init:function() {var data = unescape(unescape(this.get('profile'))), prof;this.features['json']?prof=eval('('+data+')'):prof=JSON.parse(data);for (feature in prof){this.profile[feature] = prof[feature];}window.device = this;var update = function() {var timer;var delay = 100;return function() {if (!!timer) { clearTimeout(timer);}timer = setTimeout(function() {window.device.update();clearTimeout(timer);}, delay);};}();window.addEventListener?window.addEventListener('resize',update,false):window.attachEvent("onresize",update);this.update(true);}};device.init();})();